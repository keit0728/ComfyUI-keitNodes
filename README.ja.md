# ComfyUI-keitNodes

**言語:** [English](README.md) | [日本語](README.ja.md)

keit による ComfyUI カスタムノード集です。

## 機能

### 🌍 M2M-100 Translator

Meta の M2M-100（Many-to-Many 100）モデルを搭載した多言語翻訳ノード。100以上の言語間での翻訳をサポートします。

**主な機能:**
- **自動言語検出**: "auto_detect" に設定すると、ソース言語を自動で検出
- **100以上の言語サポート**: アジア、ヨーロッパ、アフリカなど主要な世界言語をサポート
- **複数のモデルサイズ**: 用途に応じて418Mまたは1.2Bパラメータモデルを選択可能
- **GPU アクセラレーション**: CUDA が利用可能な場合は自動的に高速化
- **ビームサーチ**: 設定可能なビームサーチで翻訳品質を向上
- **メモリ効率**: 複数のノードインスタンス間でモデルを共有

**サポート言語（抜粋）:**
- アジア: 日本語 (ja), 中国語 (zh), 韓国語 (ko), タイ語 (th), ベトナム語 (vi), ヒンディー語 (hi) など
- ヨーロッパ: 英語 (en), フランス語 (fr), ドイツ語 (de), スペイン語 (es), ロシア語 (ru), イタリア語 (it) など
- アフリカ: アラビア語 (ar), スワヒリ語 (sw), アムハラ語 (am), ハウサ語 (ha) など
- その他多数...

### 🎯 Pixel Limit Resizer (16×)

アスペクト比を維持しながらピクセル数制限内で画像をリサイズし、16の倍数解像度に最適化するインテリジェントなノード。3D VAE の時空間圧縮との互換性を考慮して設計されています。

**主な機能:**
- **ピクセル数制限**: 指定されたピクセル数制限内で最適解像度を計算
- **アスペクト比維持**: 元画像のアスペクト比を可能な限り維持
- **16の倍数制約**: 幅と高さが16の倍数になるよう調整（3D VAE 互換性）
- **複数のアップスケール手法**: nearest-exact, bilinear, area, bicubic, lanczos 補間方法をサポート
- **詳細な出力情報**: リサイズ後の画像と解像度情報、アスペクト比データを提供

**技術仕様:**
- **デフォルト最大ピクセル数**: 728,320（1138×640相当）
- **最小解像度**: 16×16
- **最大解像度**: 2048×2048
- **3D VAE 最適化**: 時空間圧縮（256×圧縮）に対応

## インストール

### 前提条件
- ComfyUI がインストールされ、動作していること

### 方法1: ComfyUI Manager（推奨）
1. ComfyUI Manager を開く
2. "ComfyUI-keitNodes" を検索
3. インストールをクリック

### 方法2: 手動インストール
1. ComfyUI の custom_nodes ディレクトリにこのリポジトリをクローン:
```bash
cd ComfyUI/custom_nodes
git clone https://github.com/yourusername/ComfyUI-keitNodes.git
```

2. 必要な依存関係をインストール:
```bash
cd ComfyUI-keitNodes
pip install -r requirements.txt
```

3. ComfyUI を再起動 